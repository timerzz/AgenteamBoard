# AgenteamBoard - Agent Teams ç›‘æ§ç³»ç»Ÿè®¾è®¡æ–‡æ¡£

**æ—¥æœŸ**: 2026-02-15
**ç‰ˆæœ¬**: 1.0
**çŠ¶æ€**: å·²æ‰¹å‡†

## é¡¹ç›®æ¦‚è¿°

AgenteamBoard æ˜¯ä¸€ä¸ªåŸºäº Web çš„å®æ—¶ç›‘æ§ç³»ç»Ÿï¼Œç”¨äºç›‘æ§ Claude Code çš„ Agent Teams æ´»åŠ¨ã€‚ç³»ç»Ÿé‡‡ç”¨å‰åç«¯åˆ†ç¦»æ¶æ„ï¼Œé€šè¿‡æ–‡ä»¶ç³»ç»Ÿç›‘å¬å’Œ SSE æ¨é€å®ç°å®æ—¶æ›´æ–°ï¼Œæä¾›èŠå¤©é£æ ¼å’ŒåŸå§‹ JSON ä¸¤ç§è§†å›¾æ¨¡å¼ã€‚

### æ ¸å¿ƒç‰¹æ€§

- **å®æ—¶ç›‘æ§**: é€šè¿‡ chokidar ç›‘å¬æ–‡ä»¶å˜åŒ–ï¼ŒSSE æ¨é€æ›´æ–°
- **å†å²æŸ¥çœ‹**: å®Œæ•´çš„æ¶ˆæ¯å†å²è®°å½•
- **åŒè§†å›¾æ¨¡å¼**: ç±»ä¼¼ Discord çš„èŠå¤©è§†å›¾ + åŸå§‹ JSON è§†å›¾
- **å…¨é¢ç›‘æ§**: ç›‘æ§ config.jsonã€inboxesã€tasks ç­‰æ‰€æœ‰ç›¸å…³æ–‡ä»¶
- **æ·±æµ·ç§‘æŠ€ç¾å­¦**: ç‹¬ç‰¹çš„æ·±è‰²ä¸»é¢˜é…è‰²æ–¹æ¡ˆ

### æŠ€æœ¯æ ˆ

**åç«¯**
- Node.js + Fastify
- chokidar (æ–‡ä»¶ç›‘å¬)
- proper-lockfile (æ–‡ä»¶é”)

**å‰ç«¯**
- Vue 3 + Vite
- Pinia (çŠ¶æ€ç®¡ç†)
- TailwindCSS (æ ·å¼)
- vue-virtual-scroller (è™šæ‹Ÿæ»šåŠ¨)

## ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    å‰ç«¯ (Vue 3 + Vite)                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ å›¢é˜Ÿåˆ—è¡¨è§†å›¾  â”‚  â”‚ æ¶ˆæ¯æµè§†å›¾   â”‚  â”‚ åŸå§‹JSONè§†å›¾ â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚         Pinia Store (çŠ¶æ€ç®¡ç†)                    â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â†• SSE
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   åç«¯ (Fastify)                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚  REST API    â”‚  â”‚  SSE Server  â”‚  â”‚ File Watcher â”‚     â”‚
â”‚  â”‚  (è¯»å–æ•°æ®)   â”‚  â”‚  (æ¨é€æ›´æ–°)   â”‚  â”‚  (chokidar)  â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â†•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              ~/.claude/teams/ (æ–‡ä»¶ç³»ç»Ÿ)                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚  â”‚  config.json     â”‚  â”‚  inboxes/*.json  â”‚               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## é¡¹ç›®ç»“æ„

```
AgenteamBoard/
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ server.js           # Fastify æœåŠ¡å™¨å…¥å£
â”‚   â”‚   â”œâ”€â”€ routes/
â”‚   â”‚   â”‚   â”œâ”€â”€ teams.js        # å›¢é˜Ÿç›¸å…³API
â”‚   â”‚   â”‚   â””â”€â”€ sse.js          # SSEäº‹ä»¶æµ
â”‚   â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”‚   â”œâ”€â”€ fileWatcher.js  # æ–‡ä»¶ç›‘å¬æœåŠ¡
â”‚   â”‚   â”‚   â””â”€â”€ teamLoader.js   # å›¢é˜Ÿæ•°æ®åŠ è½½
â”‚   â”‚   â””â”€â”€ utils/
â”‚   â”‚       â””â”€â”€ pathHelper.js   # è·¯å¾„å¤„ç†å·¥å…·
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ .env
â”œâ”€â”€ frontend/
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ main.js
â”‚   â”‚   â”œâ”€â”€ App.vue
â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”‚   â”œâ”€â”€ TeamList.vue        # å›¢é˜Ÿåˆ—è¡¨ä¾§è¾¹æ 
â”‚   â”‚   â”‚   â”œâ”€â”€ MessageFeed.vue     # æ¶ˆæ¯æµï¼ˆèŠå¤©é£æ ¼ï¼‰
â”‚   â”‚   â”‚   â”œâ”€â”€ MessageCard.vue     # å•æ¡æ¶ˆæ¯å¡ç‰‡
â”‚   â”‚   â”‚   â”œâ”€â”€ JsonViewer.vue      # åŸå§‹JSONæŸ¥çœ‹å™¨
â”‚   â”‚   â”‚   â””â”€â”€ ViewToggle.vue      # è§†å›¾åˆ‡æ¢æŒ‰é’®
â”‚   â”‚   â”œâ”€â”€ stores/
â”‚   â”‚   â”‚   â”œâ”€â”€ teams.js            # å›¢é˜ŸçŠ¶æ€
â”‚   â”‚   â”‚   â””â”€â”€ messages.js         # æ¶ˆæ¯çŠ¶æ€
â”‚   â”‚   â”œâ”€â”€ composables/
â”‚   â”‚   â”‚   â””â”€â”€ useSSE.js           # SSEè¿æ¥hook
â”‚   â”‚   â””â”€â”€ style.css
â”‚   â”œâ”€â”€ index.html
â”‚   â”œâ”€â”€ vite.config.js
â”‚   â””â”€â”€ package.json
â””â”€â”€ docs/
    â””â”€â”€ plans/
        â””â”€â”€ 2026-02-15-agenteam-board-design.md
```

### æ ¸å¿ƒç»„ä»¶èŒè´£

**å‰ç«¯ç»„ä»¶**
- `TeamList.vue`: å·¦ä¾§è¾¹æ ï¼Œæ˜¾ç¤ºæ‰€æœ‰å›¢é˜Ÿï¼Œé«˜äº®å½“å‰é€‰ä¸­ï¼Œæ˜¾ç¤ºåœ¨çº¿æˆå‘˜æ•°
- `MessageFeed.vue`: ä¸»åŒºåŸŸï¼Œç±»ä¼¼Discordçš„æ¶ˆæ¯æµï¼ŒæŒ‰æ—¶é—´å€’åºæ˜¾ç¤º
- `MessageCard.vue`: å•æ¡æ¶ˆæ¯å¡ç‰‡ï¼Œæ˜¾ç¤ºå‘é€è€…å¤´åƒï¼ˆé¢œè‰²åœ†åœˆï¼‰ã€åç§°ã€æ—¶é—´ã€æ¶ˆæ¯å†…å®¹
- `JsonViewer.vue`: ä»£ç é«˜äº®æ˜¾ç¤ºåŸå§‹JSON
- `ViewToggle.vue`: é¡¶éƒ¨åˆ‡æ¢æŒ‰é’®ï¼Œåˆ‡æ¢èŠå¤©è§†å›¾/JSONè§†å›¾

**åç«¯æœåŠ¡**
- `fileWatcher.js`: ä½¿ç”¨chokidarç›‘å¬æ–‡ä»¶å˜åŒ–ï¼Œè§¦å‘äº‹ä»¶
- `teamLoader.js`: è¯»å–å’Œè§£æå›¢é˜Ÿé…ç½®ã€æ¶ˆæ¯æ•°æ®
- `sse.js`: ç®¡ç†SSEå®¢æˆ·ç«¯è¿æ¥ï¼Œå¹¿æ’­æ–‡ä»¶å˜æ›´äº‹ä»¶

## æ•°æ®æµè®¾è®¡

### å¯åŠ¨æµç¨‹
```
åç«¯å¯åŠ¨ â†’ æ‰«æ ~/.claude/teams/ â†’ åŠ è½½æ‰€æœ‰å›¢é˜Ÿæ•°æ®
â†’ å¯åŠ¨æ–‡ä»¶ç›‘å¬ â†’ æš´éœ²REST API
```

### å‰ç«¯åˆå§‹åŒ–
```
é¡µé¢åŠ è½½ â†’ GET /api/teams è·å–å›¢é˜Ÿåˆ—è¡¨
â†’ å»ºç«‹ SSE è¿æ¥ â†’ GET /api/teams/:id/messages è·å–å†å²æ¶ˆæ¯
â†’ æ¸²æŸ“ç•Œé¢
```

### å®æ—¶æ›´æ–°æµç¨‹
```
æ–‡ä»¶å˜åŒ– â†’ chokidarè§¦å‘äº‹ä»¶ â†’ è¯»å–æ–‡ä»¶å†…å®¹
â†’ å¹¿æ’­åˆ°æ‰€æœ‰SSEå®¢æˆ·ç«¯ â†’ å‰ç«¯Pinia storeæ›´æ–° â†’ UIè‡ªåŠ¨åˆ·æ–°
```

## API è®¾è®¡

### REST API

**GET /api/teams**
- è¿”å›æ‰€æœ‰å›¢é˜Ÿåˆ—è¡¨
- å“åº”ç¤ºä¾‹ï¼š
```json
[
  {
    "id": "character-image-refactor",
    "name": "è§’è‰²åº“å›¾ç‰‡ç®¡ç†é‡æ„",
    "memberCount": 8,
    "lastActivity": "2026-02-14T06:00:49.422Z",
    "path": "~/.claude/teams/character-image-refactor"
  }
]
```

**GET /api/teams/:id**
- è¿”å›å•ä¸ªå›¢é˜Ÿè¯¦æƒ…
- å“åº”ç¤ºä¾‹ï¼š
```json
{
  "id": "character-image-refactor",
  "config": { /* config.jsonå†…å®¹ */ },
  "members": [
    {
      "name": "backend-model-architect",
      "color": "blue",
      "status": "active"
    }
  ]
}
```

**GET /api/teams/:id/messages**
- è¿”å›å›¢é˜Ÿæ‰€æœ‰æ¶ˆæ¯ï¼ˆåˆå¹¶æ‰€æœ‰inboxï¼‰
- æŸ¥è¯¢å‚æ•°ï¼š`?limit=100&before=timestamp`
- å“åº”ç¤ºä¾‹ï¼š
```json
[
  {
    "id": "msg-123",
    "from": "form-component-refactoror",
    "color": "yellow",
    "text": "å·²æˆåŠŸé‡æ„ CharacterForm ç»„ä»¶...",
    "summary": "CharacterForm é‡æ„å®Œæˆ",
    "timestamp": "2026-02-14T05:57:25.381Z",
    "type": "normal",
    "read": true
  }
]
```

### SSE äº‹ä»¶æ ¼å¼

**äº‹ä»¶ç±»å‹**
- `team:created` - æ–°å›¢é˜Ÿåˆ›å»º
- `team:updated` - å›¢é˜Ÿé…ç½®æ›´æ–°
- `message:new` - æ–°æ¶ˆæ¯åˆ°è¾¾
- `message:read` - æ¶ˆæ¯å·²è¯»çŠ¶æ€å˜åŒ–

**äº‹ä»¶æ•°æ®ç¤ºä¾‹**
```javascript
// SSEäº‹ä»¶æµ
event: message:new
data: {"teamId":"character-image-refactor","message":{...}}

event: team:updated
data: {"teamId":"character-image-refactor","changes":{...}}
```

## UI/UX è®¾è®¡

### ç•Œé¢å¸ƒå±€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  AgenteamBoard                          [èŠå¤©è§†å›¾|JSONè§†å›¾]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚            â”‚  å›¢é˜Ÿï¼šcharacter-image-refactor                 â”‚
â”‚  å›¢é˜Ÿåˆ—è¡¨   â”‚  æˆå‘˜ï¼š8äºº  æœ€åæ´»åŠ¨ï¼š2åˆ†é’Ÿå‰                    â”‚
â”‚            â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  ğŸ”µ è§’è‰²åº“  â”‚                                                 â”‚
â”‚   å›¾ç‰‡é‡æ„  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â— 8 åœ¨çº¿  â”‚  â”‚ ğŸ”µ backend-model-architect              â”‚  â”‚
â”‚            â”‚  â”‚ 12:30:15                                â”‚  â”‚
â”‚  ğŸŸ¢ é¡¹ç›®åˆ‡  â”‚  â”‚ å·²å®Œæˆæ•°æ®æ¨¡å‹é‡æ„ï¼Œåˆ é™¤äº†Actorå’ŒStatus  â”‚  â”‚
â”‚   æ¢æµ‹è¯•    â”‚  â”‚ å­—æ®µï¼Œæ–°å¢CharacterImageç»“æ„...         â”‚  â”‚
â”‚   â— 2 åœ¨çº¿  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚            â”‚                                                 â”‚
â”‚            â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚            â”‚  â”‚ ğŸŸ¢ frontend-type-expert                 â”‚  â”‚
â”‚            â”‚  â”‚ 12:32:45                                â”‚  â”‚
â”‚            â”‚  â”‚ TypeScriptç±»å‹å®šä¹‰å·²æ›´æ–°å®Œæˆï¼           â”‚  â”‚
â”‚            â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ¶ˆæ¯å¡ç‰‡è®¾è®¡

**æ™®é€šæ¶ˆæ¯æ ·å¼**
- å·¦ä¾§ï¼šå½©è‰²åœ†åœˆï¼ˆagenté¢œè‰²ï¼‰+ agentåç§°ï¼ˆå°å­—ï¼‰
- å³ä¸Šï¼šæ—¶é—´æˆ³ï¼ˆç›¸å¯¹æ—¶é—´ï¼Œå¦‚"5åˆ†é’Ÿå‰"ï¼‰
- ä¸­é—´ï¼šæ¶ˆæ¯å†…å®¹ï¼ˆæ”¯æŒMarkdownæ¸²æŸ“ï¼‰
- åº•éƒ¨ï¼šsummaryï¼ˆå¦‚æœæœ‰ï¼‰

**åè®®æ¶ˆæ¯æ ·å¼**
- èƒŒæ™¯ï¼šæµ…ç°è‰²åŒºåˆ†
- å›¾æ ‡ï¼šé½¿è½®å›¾æ ‡è¡¨ç¤ºç³»ç»Ÿæ¶ˆæ¯
- å†…å®¹ï¼šJSONæ ¼å¼åŒ–æ˜¾ç¤ºï¼ˆå¸¦ç¼©è¿›ï¼‰
- å¯æŠ˜å ï¼šç‚¹å‡»å±•å¼€/æ”¶èµ·

### äº¤äº’è®¾è®¡

1. **å›¢é˜Ÿåˆ‡æ¢**: ç‚¹å‡»å·¦ä¾§å›¢é˜Ÿåˆ—è¡¨ï¼Œå³ä¾§åŠ è½½è¯¥å›¢é˜Ÿæ¶ˆæ¯
2. **è§†å›¾åˆ‡æ¢**: é¡¶éƒ¨æŒ‰é’®åˆ‡æ¢"èŠå¤©è§†å›¾"å’Œ"JSONè§†å›¾"
3. **æ¶ˆæ¯æ»šåŠ¨**: è‡ªåŠ¨æ»šåŠ¨åˆ°æœ€æ–°æ¶ˆæ¯ï¼ˆå¯æ‰‹åŠ¨ç¦ç”¨ï¼‰
4. **æˆå‘˜ç­›é€‰**: ç‚¹å‡»æˆå‘˜åç§°ï¼Œåªæ˜¾ç¤ºè¯¥æˆå‘˜çš„æ¶ˆæ¯
5. **æœç´¢è¿‡æ»¤**: é¡¶éƒ¨æœç´¢æ¡†ï¼Œå®æ—¶è¿‡æ»¤æ¶ˆæ¯å†…å®¹
6. **åè®®æ¶ˆæ¯æŠ˜å **: é»˜è®¤æŠ˜å ï¼Œç‚¹å‡»å±•å¼€

## é…è‰²æ–¹æ¡ˆï¼šæ·±æµ·ç§‘æŠ€ï¼ˆAbyssal Techï¼‰

### è®¾è®¡ç†å¿µ

èåˆæ·±æµ·ç”Ÿç‰©å‘å…‰ä¸æœªæ¥ç§‘æŠ€æ„Ÿã€‚æ·±è‰²ä½†ä¸æ²‰é—·ï¼Œå†·é™ä½†æœ‰æœºï¼Œé€‚åˆé•¿æ—¶é—´æŸ¥çœ‹ã€‚

### ä¸»é¢˜è‰²æ¿

```css
:root {
  /* èƒŒæ™¯å±‚çº§ - ä»æ·±åˆ°æµ… */
  --bg-void: #0a0e14;           /* æœ€æ·±çš„èƒŒæ™¯ï¼Œæ¥è¿‘é»‘è‰²ä½†å¸¦è“è°ƒ */
  --bg-abyss: #0d1117;          /* ä¸»èƒŒæ™¯ */
  --bg-deep: #151b23;           /* æ¬¡çº§èƒŒæ™¯ï¼ˆä¾§è¾¹æ ï¼‰ */
  --bg-surface: #1c242e;        /* å¡ç‰‡/é¢æ¿èƒŒæ™¯ */
  --bg-elevated: #242d39;       /* æ‚¬åœ/é«˜äº®çŠ¶æ€ */

  /* è¾¹æ¡†ä¸åˆ†éš” */
  --border-subtle: #2d3748;     /* å¾®å¦™è¾¹æ¡† */
  --border-active: #4a5568;     /* æ¿€æ´»çŠ¶æ€è¾¹æ¡† */

  /* æ–‡æœ¬å±‚çº§ */
  --text-primary: #e6edf3;      /* ä¸»è¦æ–‡æœ¬ï¼Œä¸æ˜¯çº¯ç™½ */
  --text-secondary: #8b949e;    /* æ¬¡è¦æ–‡æœ¬ */
  --text-muted: #6e7681;        /* ä½è°ƒæ–‡æœ¬ */
  --text-accent: #58a6ff;       /* å¼ºè°ƒæ–‡æœ¬ */

  /* å“ç‰Œè‰² - ç”Ÿç‰©å‘å…‰é’è‰² */
  --accent-primary: #00d9ff;    /* ä¸»å¼ºè°ƒè‰²ï¼Œå‘å…‰é’è‰² */
  --accent-secondary: #0ea5e9;  /* æ¬¡å¼ºè°ƒè‰²ï¼Œå¤©ç©ºè“ */
  --accent-glow: rgba(0, 217, 255, 0.15); /* å‘å…‰æ•ˆæœ */

  /* åŠŸèƒ½è‰² */
  --success: #10b981;           /* æˆåŠŸ/åœ¨çº¿ */
  --warning: #f59e0b;           /* è­¦å‘Š */
  --error: #ef4444;             /* é”™è¯¯ */
  --info: #3b82f6;              /* ä¿¡æ¯ */
}

/* Agenté¢œè‰² - ç”Ÿç‰©å‘å…‰ç¾å­¦ */
:root {
  --agent-blue: #60a5fa;        /* æŸ”å’Œçš„å¤©ç©ºè“ */
  --agent-green: #34d399;       /* ç¿¡ç¿ ç»¿ */
  --agent-yellow: #fbbf24;      /* æ¸©æš–ç¥ç€ */
  --agent-purple: #a78bfa;      /* è–°è¡£è‰ç´«ï¼ˆæŸ”å’Œï¼‰ */
  --agent-orange: #fb923c;      /* çŠç‘šæ©™ */
  --agent-pink: #f472b6;        /* ç²‰çº¢ */
  --agent-cyan: #22d3ee;        /* æ˜äº®é’è‰² */
  --agent-red: #f87171;         /* æŸ”å’Œçº¢ */
}
```

### TailwindCSS é…ç½®

```javascript
// tailwind.config.js
module.exports = {
  theme: {
    extend: {
      colors: {
        'void': '#0a0e14',
        'abyss': '#0d1117',
        'deep': '#151b23',
        'surface': '#1c242e',
        'elevated': '#242d39',
        'border-subtle': '#2d3748',
        'border-active': '#4a5568',
        'text-primary': '#e6edf3',
        'text-secondary': '#8b949e',
        'text-muted': '#6e7681',
        'text-accent': '#58a6ff',
        'accent': {
          primary: '#00d9ff',
          secondary: '#0ea5e9',
          glow: 'rgba(0, 217, 255, 0.15)',
        },
        'agent': {
          blue: '#60a5fa',
          green: '#34d399',
          yellow: '#fbbf24',
          purple: '#a78bfa',
          orange: '#fb923c',
          pink: '#f472b6',
          cyan: '#22d3ee',
          red: '#f87171',
        },
      },
      boxShadow: {
        'glow-sm': '0 0 10px currentColor',
        'glow-md': '0 0 20px currentColor',
        'glow-lg': '0 0 30px currentColor',
      },
      animation: {
        'pulse-slow': 'pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite',
        'glow': 'glow 2s ease-in-out infinite alternate',
      },
    },
  },
}
```

### è®¾è®¡äº®ç‚¹

1. **ç”Ÿç‰©å‘å…‰ç¾å­¦**: Agentå¤´åƒæœ‰æŸ”å’Œçš„å‘å…‰æ•ˆæœï¼Œåƒæ·±æµ·ç”Ÿç‰©
2. **æ·±åº¦å±‚æ¬¡**: å¤šå±‚èƒŒæ™¯è‰²åˆ›é€ ç©ºé—´æ„Ÿï¼Œä¸æ˜¯æ‰å¹³çš„é»‘è‰²
3. **å¾®å¦™æ¸å˜**: èƒŒæ™¯æœ‰å‡ ä¹çœ‹ä¸è§çš„å¾„å‘æ¸å˜ï¼Œå¢åŠ æ°›å›´
4. **å¯¹æ¯”åº¦ä¼˜åŒ–**: æ–‡æœ¬é¢œè‰²ç»è¿‡è°ƒæ•´ï¼Œé•¿æ—¶é—´é˜…è¯»ä¸ç–²åŠ³
5. **ç‹¬ç‰¹è¯†åˆ«æ€§**: æ·±æµ·é’è‰²accentè®©ç•Œé¢æœ‰è®°å¿†ç‚¹

## é”™è¯¯å¤„ç†

### æ–‡ä»¶ç³»ç»Ÿé”™è¯¯

```javascript
// æ–‡ä»¶ä¸å­˜åœ¨
try {
  const data = await fs.readFile(teamPath);
} catch (error) {
  if (error.code === 'ENOENT') {
    broadcastSSE('team:deleted', { teamId });
  }
}

// JSONè§£æå¤±è´¥
try {
  const config = JSON.parse(data);
} catch (error) {
  team.status = 'corrupted';
}
```

### SSEè¿æ¥é”™è¯¯

- **æ–­çº¿é‡è¿**: æŒ‡æ•°é€€é¿ç­–ç•¥ï¼ˆ1s, 2s, 4s, 8s...æœ€å¤§30sï¼‰
- **å¿ƒè·³æ£€æµ‹**: æ¯30ç§’å‘é€pingï¼Œè¶…æ—¶åˆ™é‡è¿
- **è¿æ¥çŠ¶æ€UI**: ç»¿è‰²ï¼ˆå·²è¿æ¥ï¼‰ã€é»„è‰²ï¼ˆé‡è¿ä¸­ï¼‰ã€çº¢è‰²ï¼ˆæ–­å¼€ï¼‰

### è¾¹ç•Œæƒ…å†µ

**ç©ºçŠ¶æ€**
- æ— å›¢é˜Ÿï¼šæ˜¾ç¤ºç©ºçŠ¶æ€æ’å›¾å’Œå¼•å¯¼æ–‡å­—
- æ— æ¶ˆæ¯ï¼šæ˜¾ç¤º"ç­‰å¾…ç¬¬ä¸€æ¡æ¶ˆæ¯..."å ä½ç¬¦

**å¤§é‡æ•°æ®**
- æ¶ˆæ¯åˆ†é¡µï¼šåˆå§‹åŠ è½½æœ€è¿‘100æ¡ï¼Œæ»šåŠ¨åŠ è½½æ›´å¤š
- è™šæ‹Ÿæ»šåŠ¨ï¼šæ¶ˆæ¯è¶…è¿‡1000æ¡æ—¶å¯ç”¨
- æ–‡ä»¶ç›‘å¬å»æŠ–ï¼š100mså†…çš„å¤šæ¬¡å˜æ›´åˆå¹¶ä¸ºä¸€æ¬¡

**å¹¶å‘å†™å…¥**
- ä½¿ç”¨ proper-lockfile é¿å…å¹¶å‘è¯»å–å†²çª

## æ€§èƒ½ä¼˜åŒ–

### åç«¯ä¼˜åŒ–

- æ–‡ä»¶ç›‘å¬ä½¿ç”¨ `chokidar` çš„ `ignored` é€‰é¡¹ï¼Œåªç›‘å¬ `.json` æ–‡ä»¶
- ä½¿ç”¨ `fs.watch` è€Œä¸æ˜¯è½®è¯¢
- ç¼“å­˜å›¢é˜Ÿé…ç½®ï¼Œåªåœ¨æ–‡ä»¶å˜åŒ–æ—¶é‡æ–°è¯»å–

### å‰ç«¯ä¼˜åŒ–

- Vue 3 çš„ `shallowRef` å¤„ç†å¤§æ•°ç»„ï¼ˆæ¶ˆæ¯åˆ—è¡¨ï¼‰
- è™šæ‹Ÿæ»šåŠ¨ï¼ˆ`vue-virtual-scroller`ï¼‰
- é˜²æŠ–æœç´¢ï¼ˆ300msï¼‰
- æ‡’åŠ è½½å›¢é˜Ÿæ¶ˆæ¯ï¼ˆç‚¹å‡»æ—¶æ‰åŠ è½½ï¼‰

### å†…å­˜ç®¡ç†

- é™åˆ¶SSEå®¢æˆ·ç«¯æ•°é‡ï¼ˆæœ€å¤§100ï¼‰
- å®šæœŸæ¸…ç†æ–­å¼€çš„å®¢æˆ·ç«¯ï¼ˆæ¯60ç§’ï¼‰

## æŠ€æœ¯å®ç°ç»†èŠ‚

### åç«¯æ ¸å¿ƒä»£ç 

**æœåŠ¡å™¨å…¥å£ (server.js)**
```javascript
const fastify = require('fastify')({ logger: true });
const chokidar = require('chokidar');
const path = require('path');
const fs = require('fs/promises');

const sseClients = new Set();
const teamsPath = path.join(process.env.HOME, '.claude', 'teams');

const watcher = chokidar.watch(teamsPath, {
  ignored: /(^|[\/\\])\../,
  persistent: true,
  ignoreInitial: false,
  awaitWriteFinish: {
    stabilityThreshold: 100,
    pollInterval: 50
  }
});

watcher.on('add', (filePath) => handleFileChange('add', filePath));
watcher.on('change', (filePath) => handleFileChange('change', filePath));
watcher.on('unlink', (filePath) => handleFileChange('delete', filePath));
```

**SSEè·¯ç”±**
```javascript
fastify.get('/api/events', async (request, reply) => {
  reply.raw.writeHead(200, {
    'Content-Type': 'text/event-stream',
    'Cache-Control': 'no-cache',
    'Connection': 'keep-alive',
  });

  const clientId = Date.now();
  sseClients.add({ id: clientId, reply });

  reply.raw.write(`event: connected\ndata: ${JSON.stringify({ clientId })}\n\n`);

  const heartbeat = setInterval(() => {
    reply.raw.write(': heartbeat\n\n');
  }, 30000);

  request.raw.on('close', () => {
    clearInterval(heartbeat);
    sseClients.delete(clientId);
  });
});
```

### å‰ç«¯æ ¸å¿ƒä»£ç 

**SSE Composable (useSSE.js)**
```javascript
import { ref, onUnmounted } from 'vue';

export function useSSE(url) {
  const events = ref([]);
  const status = ref('disconnected');
  let eventSource = null;
  let reconnectAttempts = 0;

  function connect() {
    status.value = 'connecting';
    eventSource = new EventSource(url);

    eventSource.addEventListener('connected', () => {
      status.value = 'connected';
      reconnectAttempts = 0;
    });

    eventSource.onerror = () => {
      status.value = 'disconnected';
      eventSource.close();
      const delay = Math.min(1000 * 2 ** reconnectAttempts, 30000);
      setTimeout(connect, delay);
      reconnectAttempts++;
    };
  }

  onUnmounted(() => {
    if (eventSource) eventSource.close();
  });

  return { events, status, connect };
}
```

**Pinia Store (stores/teams.js)**
```javascript
import { defineStore } from 'pinia';
import { ref, computed } from 'vue';

export const useTeamsStore = defineStore('teams', () => {
  const teams = ref([]);
  const activeTeamId = ref(null);

  const activeTeam = computed(() =>
    teams.value.find(t => t.id === activeTeamId.value)
  );

  async function fetchTeams() {
    const response = await fetch('/api/teams');
    teams.value = await response.json();
  }

  return { teams, activeTeamId, activeTeam, fetchTeams };
});
```

## å¼€å‘ç¯å¢ƒé…ç½®

### åç«¯ package.json

```json
{
  "name": "agenteam-board-backend",
  "version": "1.0.0",
  "scripts": {
    "dev": "fastify start -l info -P src/server.js",
    "start": "NODE_ENV=production node src/server.js"
  },
  "dependencies": {
    "fastify": "^4.26.0",
    "chokidar": "^3.6.0",
    "proper-lockfile": "^4.1.2"
  }
}
```

### å‰ç«¯ package.json

```json
{
  "name": "agenteam-board-frontend",
  "version": "1.0.0",
  "scripts": {
    "dev": "vite",
    "build": "vite build",
    "preview": "vite preview"
  },
  "dependencies": {
    "vue": "^3.4.0",
    "pinia": "^2.1.0",
    "vue-virtual-scroller": "^2.0.0"
  },
  "devDependencies": {
    "@vitejs/plugin-vue": "^5.0.0",
    "vite": "^5.1.0",
    "tailwindcss": "^3.4.0",
    "autoprefixer": "^10.4.0",
    "postcss": "^8.4.0"
  }
}
```

### Vite é…ç½®

```javascript
// vite.config.js
import vue from '@vitejs/plugin-vue';

export default {
  plugins: [vue()],
  server: {
    proxy: {
      '/api': {
        target: 'http://localhost:3000',
        changeOrigin: true
      }
    }
  }
}
```

## ä¸‹ä¸€æ­¥

1. åˆ›å»ºå®ç°è®¡åˆ’
2. åˆå§‹åŒ–å‰åç«¯é¡¹ç›®
3. å®ç°æ ¸å¿ƒåŠŸèƒ½
4. æµ‹è¯•å’Œä¼˜åŒ–

## é™„å½•

### å…³é”®æ–‡ä»¶è·¯å¾„

- å›¢é˜Ÿé…ç½®: `~/.claude/teams/{team-id}/config.json`
- æ¶ˆæ¯inbox: `~/.claude/teams/{team-id}/inboxes/{member}.json`
- ä»»åŠ¡åˆ—è¡¨: `~/.claude/tasks/{team-id}/`

### å‚è€ƒèµ„æ–™

- [Fastify æ–‡æ¡£](https://fastify.dev/)
- [Vue 3 æ–‡æ¡£](https://vuejs.org/)
- [Server-Sent Events è§„èŒƒ](https://developer.mozilla.org/en-US/docs/Web/API/Server-sent_events)
- [chokidar æ–‡æ¡£](https://github.com/paulmillr/chokidar)
